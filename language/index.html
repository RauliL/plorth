<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Language reference - Plorth</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Language reference";
    var mkdocs_page_input_path = "language.md";
    var mkdocs_page_url = "/language/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 
  <script src="../plorth-repl.js"></script>

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Plorth</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../installation/">Installation</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Language reference</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#language-reference">Language reference</a></li>
                
                    <li><a class="toctree-l4" href="#interpreter">Interpreter</a></li>
                
                    <li><a class="toctree-l4" href="#stack">Stack</a></li>
                
                    <li><a class="toctree-l4" href="#words-and-dictionaries">Words and dictionaries</a></li>
                
                    <li><a class="toctree-l4" href="#prototypes">Prototypes</a></li>
                
                    <li><a class="toctree-l4" href="#data-types">Data types</a></li>
                
                    <li><a class="toctree-l4" href="#declaring-new-words">Declaring new words</a></li>
                
                    <li><a class="toctree-l4" href="#conditional-execution">Conditional execution</a></li>
                
                    <li><a class="toctree-l4" href="#catching-errors">Catching errors</a></li>
                
                    <li><a class="toctree-l4" href="#modules">Modules</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../api/">API reference</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Plorth</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Language reference</li>
    <li class="wy-breadcrumbs-aside">
      
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="language-reference">Language reference</h1>
<p>This page gives a short summary of the Plorth programming language.</p>
<h2 id="interpreter">Interpreter</h2>
<p>TODO</p>
<h2 id="stack">Stack</h2>
<p>TODO</p>
<h2 id="words-and-dictionaries">Words and dictionaries</h2>
<p>When the interpreter encounters a whitespace separated word, such as <code>foo</code>, it
will execute the matching piece of code found in the dictionary with that same
word as the identifier.</p>
<p>When a word is being executed, the code to be executed is searched
through the following four steps, in this specific order:</p>
<ol>
<li>
<p>Value specific words: If the stack is not empty, the word specific to the
   top-most value of the stack will be searched first. This is done through
   the prototype chain which will be described below. Most of the operations
   performed on values are usually value specific, meaning that the same word
   can execute different operations based on the top-most value of the stack.</p>
</li>
<li>
<p>Local dictionary: TODO</p>
</li>
<li>
<p>Global dictionary: The Plorth interpreter has a global dictionary of words that
   will also be searched. This dictionary contains the most basic operations in
   the Plorth programming language.</p>
</li>
<li>
<p>Number: If the word can be converted into a decimal number, it will be converted
   into a double precision floating point number and placed on the top of the stack.</p>
</li>
</ol>
<p>If none of these steps apply, a reference error will be thrown.</p>
<h2 id="prototypes">Prototypes</h2>
<p>Each value except null have some kind of prototype object, where value specific words
will be searched from. Prototype objects might inherit from other prototype
objects, creating an inheritance chain, which will be traversed when value
specific words are being searched.</p>
<p>Prototype of the top-most value on the stack can be extracted with
<code>prototype</code> word found in global dictionary. On objects, it can also be found
as property identified <code>__proto__</code>. Objects which do not have <code>__proto__</code>
property will use the global <code>object</code> as prototype instead.</p>
<p>New object instances can be created from objects that have <code>prototype</code>
property with global word <code>new</code>. Value of this property will be placed into
<code>__proto__</code> property of the newly instantiated object. For example, if we would
have this object as the top-most value on our stack</p>
<pre><code class="json">{ &quot;prototype&quot;: { &quot;foo&quot;: &quot;bar&quot; } }
</code></pre>

<p>we could create an instance of the object with <code>new</code> word. After <code>new</code> has been
called, an instance of the object will be placed as the top-most value of the
stack. This new object will have a property called <code>foo</code> available, the value of which
will be a string containing text <code>"bar"</code>.</p>
<h2 id="data-types">Data types</h2>
<h3 id="null">Null</h3>
<p>Null values represent an empty value or no value at all. It is usually
returned by words to indicate that nothing was found/accomplished by the word.
You can push null values into the stack with the <code>null</code> word found in global
dictionary.</p>
<h3 id="boolean">Boolean</h3>
<p>Boolean values represent truthness. They can be placed onto the stack with
words <code>true</code> and <code>false</code> which can be found in the global dictionary.</p>
<h3 id="number">Number</h3>
<p>TODO</p>
<h3 id="string">String</h3>
<p>String is a container for textual data, a sequence of Unicode code points.</p>
<p>TODO</p>
<h3 id="array">Array</h3>
<p>Arrays are indexed sequences of other values. Arrays can be constructed with
<em>array literals</em>, which use same syntax as is used for arrays in JSON. For
example, if you would like to construct an array containing numbers from 0 to
5 and push that onto the stack, you would write:</p>
<pre><code class="json">[0, 1, 2, 3, 4, 5]
</code></pre>

<p>After that, the array is available as the top-most item of the stack.</p>
<p>Length of an array can be retrieved with the <code>length</code> word. This places the number
of elements in the array on top of the stack, while leaving the array itself
intact.</p>
<pre><code>[1, 2, 3] length # -&gt; [1, 2, 3] 3
</code></pre>

<p>Items from the array can be accessed with the <code>@</code> word. You need to place the numeric
index of the item you wish to retrieve and the array itself onto the stack and finally execute
the word. If the index is out of bounds a range error will be thrown.</p>
<pre><code>1 [1, 2, 3] @ # -&gt; [1, 2, 3] 2
</code></pre>

<h3 id="object">Object</h3>
<p>Objects are associative arrays that map string keys into values.</p>
<p>TODO: Information about object literals and how to access properties.</p>
<h3 id="quote">Quote</h3>
<p>Quote is a piece of code that can be executed when required. Quotes can be
constructed in many different ways, including <em>quote literals</em> which are words
placed inside parenthesis:</p>
<pre><code>( foo bar baz )
</code></pre>

<p>This places a quote with words <code>foo</code>, <code>bar</code> and <code>baz</code> onto the stack. When you
execute the word <code>call</code> on the quote, those three words will be executed in
sequence. Quotes are pretty much like what other languages would call
functions, except that they do not take any arguments but rather operate
directly on the stack.</p>
<p>Quotes can also be constructed dynamically with the <code>compile</code> keyword. It takes
source code in the form of a string, compiles it into a quote and places the compiled
quote onto the stack. Quotes can also be constructed from other quotes by
currying, composing and negation.</p>
<p>Quotes can usually be converted back into source code with the <code>&gt;source</code> word,
with the exception being native core words that are built into the interpreter.</p>
<h3 id="error">Error</h3>
<p>Errors are special values that will be <em>thrown</em> when some kind of errorneous
situation is encountered. Unless errors are being <em>caught</em> and processed
in some way, the execution of the program will be terminated.</p>
<p>Errors contain numeric error code and optional textual description of the
problem. Unlike in other languages, it is not possible to construct new types
of errors.</p>
<h2 id="declaring-new-words">Declaring new words</h2>
<p>TODO</p>
<h2 id="conditional-execution">Conditional execution</h2>
<p>TODO</p>
<h2 id="catching-errors">Catching errors</h2>
<p>TODO</p>
<h2 id="modules">Modules</h2>
<p>TODO</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../api/" class="btn btn-neutral float-right" title="API reference">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../installation/" class="btn btn-neutral" title="Installation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../installation/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../api/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
